<div class="min-h-screen bg-gray-100">
    <!-- Header -->
    <div class="bg-white shadow-md sticky top-0 z-10">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <h2 class="text-2xl font-bold text-gray-800">üñºÔ∏è Manage Menu Items</h2>
            <div class="space-x-3">
                <button id="back-to-dashboard" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 font-semibold">‚Üê Back to Dashboard</button>
                <button id="logout-button" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 font-semibold">Logout</button>
            </div>
        </div>
    </div>

    <div class="max-w-7xl mx-auto px-6 py-8">
        <!-- Image Upload Section -->
        <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">üì§ Upload Menu Item Picture</h3>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Select Image File</label>
                    <div class="flex items-center gap-4">
                        <input type="file" id="imageFileInput" accept="image/*" class="flex-1 px-4 py-3 border-2 border-dashed border-blue-300 rounded-lg cursor-pointer focus:outline-none focus:border-blue-600" placeholder="Choose an image...">
                        <button id="upload-image-button" class="bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 font-bold whitespace-nowrap">üì§ Upload Image</button>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">Supported formats: JPG, PNG, GIF, WebP (Max 5MB)</p>
                </div>

                <!-- Upload Preview -->
                <div id="uploadPreview" class="hidden mt-4 p-4 bg-green-50 rounded-lg border border-green-200">
                    <p class="text-green-800 font-semibold mb-2">‚úì Image Uploaded Successfully!</p>
                    <p class="text-green-700 text-sm">Image URL: <code id="uploadedImageUrl" class="bg-white px-2 py-1 rounded text-xs font-mono"></code></p>
                    <p class="text-green-700 text-sm mt-2">Now select a menu item below to assign this image.</p>
                </div>

                <!-- Upload Progress -->
                <div id="uploadProgress" class="hidden mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200">
                    <p class="text-blue-800 font-semibold mb-2">Uploading...</p>
                    <div class="w-full bg-blue-200 rounded-full h-2"><div class="bg-blue-600 h-2 rounded-full" style="width: 0%"></div></div>
                </div>
            </div>
        </div>

        <!-- Menu Items List -->
        <div class="bg-white rounded-lg shadow-lg p-8">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">üìã Menu Items</h3>
            
            <div id="menu-items-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Menu items will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Edit Item Modal -->
    <div id="editItemModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 xl:w-2/5 shadow-lg rounded-md bg-white">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">‚úèÔ∏è Edit Menu Item</h3>
            <form id="editMenuItemForm">
                <input type="hidden" id="editItemId">
                <div class="space-y-5">
                    <div>
                        <label for="editItemName" class="block text-sm font-medium text-gray-700">Item Name</label>
                        <input type="text" id="editItemName" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label for="editItemDescription" class="block text-sm font-medium text-gray-700">Description</label>
                        <textarea id="editItemDescription" rows="3" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                    </div>
                    <div>
                        <label for="editItemPrice" class="block text-sm font-medium text-gray-700">Base Price</label>
                        <input type="number" id="editItemPrice" step="0.01" min="0.01" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label for="editItemCategory" class="block text-sm font-medium text-gray-700">Category</label>
                        <select id="editItemCategory" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            <!-- Categories will be loaded here -->
                        </select>
                    </div>
                    <div class="flex items-center space-x-2">
                        <input type="checkbox" id="editItemAvailable" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                        <label for="editItemAvailable" class="text-sm font-medium text-gray-700">Available</label>
                    </div>

                    <!-- Sizes Section -->
                    <div class="border-t pt-4">
                        <h4 class="text-lg font-medium text-gray-900">Sizes</h4>
                        <div id="edit-sizes-container" class="space-y-2 mt-2">
                            <!-- Existing and new size fields will be inserted here -->
                        </div>
                        <button type="button" id="add-edit-size-button" class="mt-2 text-sm text-blue-600 hover:text-blue-800 font-semibold">+ Add Size</button>
                    </div>

                    <!-- Add-ons Section -->
                    <div class="border-t pt-4">
                        <h4 class="text-lg font-medium text-gray-900">Add-ons</h4>
                        <div id="edit-addons-container" class="space-y-2 mt-2">
                            <!-- Existing and new addon fields will be inserted here -->
                        </div>
                        <button type="button" id="add-edit-addon-button" class="mt-2 text-sm text-blue-600 hover:text-blue-800 font-semibold">+ Add Add-on</button>
                    </div>

                    <div>
                        <label for="editItemImageUrl" class="block text-sm font-medium text-gray-700">Image URL</label>
                        <input type="text" id="editItemImageUrl" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="/images/your-item.jpg">
                        <button type="button" data-item-id="" class="use-last-image-button hidden text-xs text-blue-600 hover:text-blue-800 mt-1">Use last uploaded image</button>
                    </div>
                    <div>
                        <label for="editItemEmoji" class="block text-sm font-medium text-gray-700">Emoji (e.g., üçî)</label>
                        <input type="text" id="editItemEmoji" maxlength="2" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="üçî">
                    </div>
                    <div class="flex justify-end space-x-3">
                        <button type="button" id="cancelEditItem" class="bg-gray-400 text-white py-3 px-6 rounded-lg hover:bg-gray-500 font-bold transition">Cancel</button>
                        <button type="submit" class="bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 font-bold transition">Update Item</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
